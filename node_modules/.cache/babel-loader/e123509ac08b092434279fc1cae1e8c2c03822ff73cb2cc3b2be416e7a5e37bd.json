{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\61451\\\\Downloads\\\\nd0191-c2-React-Redux-project-starter-main\\\\nd0191-c2-React-Redux-project-starter-main\\\\poll\\\\src\\\\components\\\\NewQuestion.js\",\n  _s2 = $RefreshSig$();\nimport { connect } from 'react-redux';\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { handleSaveAnswer } from '../actions/questions';\nimport { useEffect } from 'react';\nimport Login from \"./Login\";\nimport Error from './Error';\nimport { handleInitialData1 } from '../actions/shared';\n\n// Higher Order Component to inject router props\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withRouter = Component => {\n  var _s = $RefreshSig$();\n  const ComponentWithRouterProps = props => {\n    _s();\n    let location = useLocation();\n    let navigate = useNavigate();\n    let params = useParams();\n    return /*#__PURE__*/_jsxDEV(Component, {\n      ...props,\n      router: {\n        location,\n        navigate,\n        params\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 16\n    }, this);\n  };\n  _s(ComponentWithRouterProps, \"G4H0N746j5KwtpeOKQjfXhEbWfg=\", false, function () {\n    return [useLocation, useNavigate, useParams];\n  });\n  return ComponentWithRouterProps;\n};\nconst NewQuestion = props => {\n  _s2();\n  const {\n    id\n  } = props.router.params;\n  const navigate = useNavigate();\n  const {\n    questions,\n    dispatch,\n    authedUser\n  } = props;\n  const question = questions[id];\n  useEffect(() => {\n    props.dispatch(handleInitialData1());\n    const ques = props.questions[id];\n    if (!ques) {\n      console.log(\"error\");\n      navigate(\"/app/error\");\n    } else if (!authedUser) {\n      return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 20\n      }, this);\n    }\n  }, [question]);\n  if (!question) {\n    return null;\n  }\n  const optionOneText = question.optionOne['text'];\n  const optionTwoText = question.optionTwo['text'];\n  const handleAnswer = (e, a) => {\n    e.preventDefault();\n    dispatch(handleSaveAnswer({\n      authedUser,\n      qid: id,\n      answer: a\n    }));\n    navigate(\"/app\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Poll by \", question.author]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: e => handleAnswer(e, 'optionOne'),\n        children: optionOneText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: e => handleAnswer(e, 'optionTwo'),\n        children: optionTwoText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s2(NewQuestion, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = NewQuestion;\nconst mapStateToProps = ({\n  authedUser,\n  questions\n}, props) => {\n  return {\n    questions,\n    authedUser\n  };\n};\nexport default withRouter(connect(mapStateToProps)(NewQuestion));\nvar _c;\n$RefreshReg$(_c, \"NewQuestion\");","map":{"version":3,"names":["connect","useLocation","useNavigate","useParams","handleSaveAnswer","useEffect","Login","Error","handleInitialData1","jsxDEV","_jsxDEV","withRouter","Component","_s","$RefreshSig$","ComponentWithRouterProps","props","location","navigate","params","router","fileName","_jsxFileName","lineNumber","columnNumber","NewQuestion","_s2","id","questions","dispatch","authedUser","question","ques","console","log","optionOneText","optionOne","optionTwoText","optionTwo","handleAnswer","e","a","preventDefault","qid","answer","children","author","onClick","_c","mapStateToProps","$RefreshReg$"],"sources":["C:/Users/61451/Downloads/nd0191-c2-React-Redux-project-starter-main/nd0191-c2-React-Redux-project-starter-main/poll/src/components/NewQuestion.js"],"sourcesContent":["import { connect } from 'react-redux';\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { handleSaveAnswer } from '../actions/questions';\r\nimport { useEffect } from 'react';\r\nimport Login from \"./Login\";\r\nimport Error from './Error';\r\nimport { handleInitialData1 } from '../actions/shared';\r\n\r\n// Higher Order Component to inject router props\r\nconst withRouter = (Component) => {\r\n    const ComponentWithRouterProps = (props) => {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return <Component {...props} router={{ location, navigate, params }} />;\r\n    };\r\n    return ComponentWithRouterProps;\r\n};\r\n\r\nconst NewQuestion = (props) => {\r\n   \r\n    const { id } = props.router.params;\r\n    const navigate = useNavigate();\r\n    const { questions, dispatch, authedUser } = props;\r\n   \r\n    const question = questions[id];\r\n\r\n    useEffect(() => {\r\n        props.dispatch(handleInitialData1());\r\n        const ques=props.questions[id]\r\n\r\n        if (!ques) {\r\n            console.log(\"error\");\r\n            navigate(\"/app/error\");\r\n        } \r\n        else  if(!authedUser){\r\n            return <Login/>;\r\n          }\r\n       \r\n        \r\n    }, [question]);\r\n   \r\n    if (!question) {\r\n        return null;\r\n    }\r\n\r\n    const optionOneText = question.optionOne['text'];\r\n    const optionTwoText = question.optionTwo['text'];\r\n\r\n    const handleAnswer = (e, a) => {\r\n        e.preventDefault();\r\n\r\n        dispatch(\r\n            handleSaveAnswer({\r\n                authedUser,\r\n                qid: id,\r\n                answer: a,\r\n            })\r\n        );\r\n        navigate(\"/app\");\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Poll by {question.author}</h1>\r\n            <ul>\r\n                <li onClick={(e) => handleAnswer(e, 'optionOne')}>{optionOneText}</li>\r\n                <li onClick={(e) => handleAnswer(e, 'optionTwo')}>{optionTwoText}</li>\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ authedUser, questions }, props) => {\r\n    return {\r\n        questions,\r\n        authedUser,\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(NewQuestion));"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}